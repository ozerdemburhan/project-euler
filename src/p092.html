<!DOCTYPE html>
<head>
    <script src="helper.js"></script>
    <link rel="stylesheet" href="main.css">

    <title>Problem 92</title>
    <meta charset="utf-8">
</head>

<body>
</body>

<script>
    start();

    function start() {
        let d1 = new Date();
        doStart();
        let elapsed = new Date() - d1;
        document.write("elapsed time: " + (elapsed/1000) + "s.<br>");
    }

    function doStart() {
        let count = 0;

        for(let n = 2; n < 10000000; n++) {
            if(process(n)) {
                count++;
            }
        }

        document.write("count: " + (count) + "<br>");
    }

    function process(n) {
        if(n === 1) {
            return false;
        }

        if(n === 89) {
            return true;
        }

        let s = String(n);
        let sum = s.split("").reduce(sqsum, 0);

        return process(sum);
    }

    function sqsum(total, current) {
        return total + Number(current)*Number(current);
    }

</script>


</html>