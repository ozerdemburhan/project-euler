<!DOCTYPE html>
<head>
	<style type="text/css">
		body {
			font-family: monospace;
			font-size: 16px;
		}
		
	</style>
	<title>Test</title>	
	<meta charset="utf-8">
</head>


<body>
</body>

<script>
	start();

	function start() {
		var n = 1;
		var sum = 1;
		var tr = findDivisors(n);
		
		while(getDivisorsCount(tr) < 500) {
			n++;
			sum += n;
			tr = findDivisors(sum);
		}

		log("n", sum);
		var count = getDivisorsCount(findDivisors(sum));
		log("count", count);
		log("divisors", JSON.stringify(tr));
	}

	function findDivisors(n) {
		var divisors = {};

		for(var i = 2; i <= n; i++) {
			if(n % i == 0) {
				var value = divisors[i];

				if(!value) {
					value = 0;
				}

				divisors[i] = ++value;
				n /= i;
				i--;
			}
		}

		return divisors;
	}

	function getDivisorsCount(obj) {
		var count = 1;

		for(var i in obj) {
			count *= obj[i] + 1;
		}

		return count;
	}

	function log(text, value) {
		document.write(text + ": " + value + "<br>");
	}

</script>



</html>